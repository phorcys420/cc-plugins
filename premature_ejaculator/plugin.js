(function(i){"use strict";var s={name:"elrick",description:"el ricko",handler:()=>`https://${(Math.random()+1).toString(36).substring(7)}.elrick.fans`};async function o(){let n=[];for(const[e,l]of Object.entries(cumcord.plugins.installed.store||{})){let t={url:e,enabled:l.enabled},r=await cumcord.modules.internal.idbKeyval.get(`${e}_CUMCORD_STORE`);r&&(t.settings=r),n.push(t)}return n}async function a(n){for(let e of n)e.settings&&await cumcord.modules.internal.idbKeyval.set(`${e.url}_CUMCORD_STORE`,e.settings),cumcord.plugins.installed.ghost[e.url]?(cumcord.plugins.togglePlugin(e.url),cumcord.plugins.togglePlugin(e.url)):(await cumcord.plugins.importPlugin(e.url),e.enabled==!1&&cumcord.plugins.togglePlugin(e.url))}var u={name:"export",description:"Exports your Cumcord settings",args:[{name:"ugly",description:"Exports the settings in a non-pretty format",type:"bool",required:!1},{name:"snippet",description:"Exports the settings in devtools-loadable format",type:"bool",required:!1}],handler:async(n,e)=>{let l=await o();if(n.args.snippet){let t=`(${a})(${JSON.stringify(l)})`;n.args.ugly&&(t+=`
// mean :(`),e(`\`\`\`js
${t}\`\`\``)}else e(`\`\`\`json
${JSON.stringify(l,null,n.args.ugly?null:"      ")}\`\`\``)}},d=()=>{let n=[i.addCommand(s),i.addCommand(u)];return{onUnload(){n.forEach(e=>e())}}};return d})(cumcord.commands);
